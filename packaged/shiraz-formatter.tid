author: Mohammad Rahmani
core-version: >=5.2.2
description: Editor buttons and snippets for Shiraz
list: readme license history
name: Shiraz Formatter
parent-plugin: $:/plugins/kookma/shiraz
plugin-type: plugin
source: https://github.com/kookma/TW-Shiraz
tags: 
title: $:/plugins/kookma/shiraz-formatter
type: application/json
version: 0.6.0

{"tiddlers":{"$:/plugins/kookma/shiraz-formatter/config/highlight-colors":{"title":"$:/plugins/kookma/shiraz-formatter/config/highlight-colors","text":"yellow\nlime\ncyan\npink\n\nlightyellow\npalegreen\nlightcyan\nlavender\n\nred\nblue\ngreen\ngold","type":"text/plain","tags":""},"$:/plugins/kookma/shiraz-formatter/config/text-colors":{"title":"$:/plugins/kookma/shiraz-formatter/config/text-colors","text":"red\nblue\ngreen\npurple\n\nteal\nnavy\nmaroon\nSlateGray\n\nbrown\nroyalblue\ndarkkhaki\ngoldenrod","type":"text/plain","tags":""},"$:/plugins/kookma/shiraz-formatter/history":{"title":"$:/plugins/kookma/shiraz-formatter/history","tags":"","type":"text/vnd.tiddlywiki","text":"Full change log  https://kookma.github.io/TW-Shiraz/shiraz-formatter.html#ChangeLog\n\n* ''0.5.1'' -- 2022.09.27 -- stable and improved release\n* ''0.1.0'' -- 2022.09.23 -- first public release\n"},"$:/plugins/kookma/shiraz-formatter/license":{"title":"$:/plugins/kookma/shiraz-formatter/license","tags":"","type":"text/vnd.tiddlywiki","text":"Distributed under an MIT license.\n\nCopyright (c) 2022-2024 [[Mohammad Rahmani|https://github.com/kookma]]\n\n<<<\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n<<<"},"$:/plugins/kookma/shiraz-formatter/readme":{"title":"$:/plugins/kookma/shiraz-formatter/readme","tags":"","type":"text/vnd.tiddlywiki","text":"; Shiraz Formatter\nEditor toolbar buttons to format text and insert snippets.\n\n;Code and demo\nFor learning plugin features, syntax, tutorial and examples see the plugin demo and code pages\n\n* Demo: https://kookma.github.io/TW-Shiraz/shiraz-formatter.html\n* Code: https://github.com/kookma/TW-Shiraz"},"$:/plugins/kookma/shiraz-formatter/snippets/alert":{"title":"$:/plugins/kookma/shiraz-formatter/snippets/alert","caption":"Alert","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<alert type:\"primary\" src:\"\" width:\"100%\", class:\"\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/alert-leftbar":{"title":"$:/plugins/kookma/shiraz-formatter/snippets/alert-leftbar","caption":"Alert leftbar","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<alert-leftbar type:\"primary\" src:\"\" width:\"100%\", class:\"\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/badge":{"title":"$:/plugins/kookma/shiraz-formatter/snippets/badge","caption":"Badge","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<badge type:\"primary\" src:\"\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/badge-status":{"title":"$:/plugins/kookma/shiraz-formatter/snippets/badge-status","caption":"Badge status","code-body":"yes","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<dbadge subject:\"\" status:\"\" type:\"info\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/card":{"title":"$:/plugins/kookma/shiraz-formatter/snippets/card","caption":"Card","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<card \nheader:\"Header\"\ntitle:\"Title\"\nsubtitle:\"subtitle\"\ntext:\"content\"\nfooter:\"footer\"\nwidth:\"18rem\"\nclass:\"text-dark\"\n>>"},"$:/plugins/kookma/shiraz-formatter/snippets/colorful-link":{"title":"$:/plugins/kookma/shiraz-formatter/snippets/colorful-link","caption":"Colorful link","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<$link overrideClass=\"btn btn-danger\" to=\"target\">My Link</$link>"},"$:/plugins/kookma/shiraz-formatter/snippets/details":{"title":"$:/plugins/kookma/shiraz-formatter/snippets/details","caption":"Details","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<details label:\"\" src:\"\" status:\"\" labelClass:\"\" srcClass:\"\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/image-card":{"title":"$:/plugins/kookma/shiraz-formatter/snippets/image-card","caption":"Image card","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<image-card img:\"\" width:\"\" align:\"\" title:\"\" text:\"\" footer:\"\" pos:\"\" alt:\"\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/image-polaroid":{"title":"$:/plugins/kookma/shiraz-formatter/snippets/image-polaroid","caption":"Image polaroid","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<image-polaroid img:\"\" width:\"\" align:\"center\" caption:\"\" tooltip:\"\" alt:\"\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/image-pretty":{"title":"$:/plugins/kookma/shiraz-formatter/snippets/image-pretty","caption":"Image pretty","code-body":"yes","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<image-pretty img:\"\" width:\"480px\" align:\"center\" caption:\"\" tooltip:\"\" alt:\"\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/list-search":{"title":"$:/plugins/kookma/shiraz-formatter/snippets/list-search","caption":"List search","code-body":"yes","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<list-search filter:\"[tag[??]]\" search:\"\" template:\"\" class:\"alert alert-info\" placeholder:\"\", stateTiddler:\"\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/multi-column-layout":{"title":"$:/plugins/kookma/shiraz-formatter/snippets/multi-column-layout","caption":"Multicolumn layout","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<multicol src:\"\" ncol:\"\" class:\"\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/slider":{"title":"$:/plugins/kookma/shiraz-formatter/snippets/slider","caption":"Slider","code-body":"yes","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<slider label:\"\" src:\"\" labelClass:\"\" srcClass:\"\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/table-dynamic":{"title":"$:/plugins/kookma/shiraz-formatter/snippets/table-dynamic","caption":"Table dynamic","code-body":"yes","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<table-dynamic filter:\"\" fields:\"\" indexes:\"\" caption:\"\" sortOp:\"sort\" class:\"\" footerRows:\"0\" stateTiddler:\"\" editButton:\"yes\" pagination:\"no\" emptyMessage:\"filter input is empty\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/table-quick":{"title":"$:/plugins/kookma/shiraz-formatter/snippets/table-quick","caption":"Table quick","code-body":"yes","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<table-csv tidName:\"\" delimiter:\",\" sortType:\"alphanumeric\" format:\"\" caption:\"\" class:\"\" header:\"yes\" stateTiddler:\"\" id:\"\">>"},"$:/plugins/kookma/shiraz-formatter/styles/button":{"title":"$:/plugins/kookma/shiraz-formatter/styles/button","text":".tc-editor-toolbar button.kk-formatter-btn + .tc-popup .tc-drop-down {\n\tmin-width:20px;\n}\n\n.tc-editor-toolbar button.kk-formatter-btn + .tc-popup .tc-drop-down > p {\n\tmargin: 0;\n\tpadding: 0 10px;\n}\n\n.tc-editor-toolbar button.kk-formatter-btn + .tc-popup .tc-drop-down a.tc-tiddlylink {\n\tfont-weight: normal;\n}\n\n/* new */\n.tc-editor-toolbar button.kk-formatter-btn + .tc-popup .tc-drop-down button.tc-btn-invisible{\n\twidth:fit-content;\n\tmargin:1px;\n\tpadding:0;\n\tdisplay:inline-block;\n\tbackground-color:unset;\n}\n\n.tc-editor-toolbar button.kk-formatter-btn + .tc-popup .tc-drop-down button.tc-btn-invisible svg{\n\twidth:1.5em;\n\theight:1.5em;\n}\n\n.kk-formatter-dropdown{\n\tdisplay:flex;\n\tflex-wrap:wrap;\n\tmax-width:6.6em;\n}\n\n","tags":"$:/tags/Stylesheet","type":"text/css"},"$:/plugins/kookma/shiraz-formatter/styles/button-color":{"title":"$:/plugins/kookma/shiraz-formatter/styles/button-color","tags":"$:/tags/Stylesheet","type":"text/vnd.tiddlywiki","text":".tc-editor-toolbar button.kk-formatter-btn + .tc-popup .tc-drop-down button.tc-btn-invisible.kk-sh-letter {\n\tbackground-color: <<colour tiddler-controls-foreground>>;\n\tcolor: <<colour tiddler-controls-foreground-selected>>;\n\tfill: <<colour tiddler-controls-foreground-selected>>;\n\tborder-radius: 4px;\n\tpadding: 3px 4px;\n\tmargin: 2px 0 2px 4px;\n}"},"$:/plugins/kookma/shiraz-formatter/styles/other":{"title":"$:/plugins/kookma/shiraz-formatter/styles/other","text":".kk-sh-formatter-label {\n\tmargin-bottom:10px;\n\twidth:100%;\n}\n","tags":"$:/tags/Stylesheet","type":"text/css"},"$:/plugins/kookma/shiraz-formatter/ui/EditorToolbar/format":{"title":"$:/plugins/kookma/shiraz-formatter/ui/EditorToolbar/format","button-classes":"kk-formatter-btn","caption":"formatter","condition":"[<targetTiddler>type[]] [<targetTiddler>get[type]prefix[text/]] [<targetTiddler>get[type]match[application/javascript]] [<targetTiddler>get[type]match[application/json]] [<targetTiddler>get[type]match[application/x-tiddler-dictionary]] [<targetTiddler>get[type]match[image/svg+xml]] +[first[]]","description":"Shiraz formatter button","dropdown":"$:/plugins/kookma/shiraz-formatter/ui/EditorToolbar/format-dropdown","icon":"$:/core/images/paint","list-after":"$:/core/ui/EditorToolbar/mono-line","shortcuts":"","tags":"$:/tags/EditorToolbar","type":"text/vnd.tiddlywiki"},"$:/plugins/kookma/shiraz-formatter/ui/EditorToolbar/format-dropdown":{"title":"$:/plugins/kookma/shiraz-formatter/ui/EditorToolbar/format-dropdown","code-body":"yes","tags":"","type":"text/vnd.tiddlywiki","text":"\\define circle(color)\n<svg width=\"1.5em\" height=\"1.5em\" >\n<circle cx=\"0.75em\" cy=\"0.75em\" r=\"0.74em\" stroke=\"\"  fill=<<__color__>>/>\n</svg>\n\\end\n\n\\define rect(color)\n<svg width=\"1.5em\" height=\"1.5em\">\n  <rect width=\"1.5em\" height=\"1.5em\" fill=<<__color__>>/>\n</svg>\n\\end\n\n\\define btn-highlight-actions()\n<$list filter=\"[<modifier>match[alt]then[hlp]] [<modifier>match[shift]then[hls]] :else[<modifier>!match[ctrl]then[hl]]\" variable=\"hlmac\"><!--set the highlight macro -->\n<$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"wrap-selection\"\n\tprefix={{{ [<hlmac>addprefix[<<]addsuffix[ \"]] }}}\n  suffix='\" \"$(color)$\">>'\n/>\n</$list>\n<$list filter=\"[<modifier>match[ctrl]]\" variable=null>\n<$action-sendmessage $message=\"tm-edit-tiddler\" $param=\"$:/plugins/kookma/shiraz-formatter/config/highlight-colors\"/>\n</$list>\n<$action-deletetiddler $tiddler=<<dropdown-state>>/>\n\\end\n\n\\define btn-text-actions()\n<$list filter=\"[<modifier>!match[ctrl]]\" variable=null><!--set the highlight macro -->\n<$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"wrap-selection\"\n\tprefix='<<tc \"'\n  suffix='\" \"$(color)$\">>'\n/>\n</$list>\n<$list filter=\"[<modifier>match[ctrl]]\" variable=null>\n<$action-sendmessage $message=\"tm-edit-tiddler\" $param=\"$:/plugins/kookma/shiraz-formatter/config/text-colors\"/>\n</$list>\n<$action-deletetiddler $tiddler=<<dropdown-state>>/>\n\\end\n\n<!-- helper macro -->\n\\define save-selection()\n<$action-sendmessage\n $message=\"tm-edit-text-operation\"\n $param=\"save-selection\"\n tiddler=<<qualify \"$:/temp/text\">>\n/>\n\\end\n\n\\define btn-uppercase-actions()\n<<save-selection>>\n<$action-sendmessage\n $message=\"tm-edit-text-operation\"\n $param=\"replace-selection\"\n text={{{[<qualify \"$:/temp/text\">get[text]uppercase[]]}}}\n/>\n\\end\n\n\\define btn-lowercase-actions()\n<<save-selection>>\n<$action-sendmessage\n $message=\"tm-edit-text-operation\"\n $param=\"replace-selection\"\n text={{{[<qualify \"$:/temp/text\">get[text]lowercase[]]}}}\n/>\n\\end\n\n\\define btn-titlecase-actions()\n<<save-selection>>\n<$action-sendmessage\n $message=\"tm-edit-text-operation\"\n $param=\"replace-selection\"\n text={{{[<qualify \"$:/temp/text\">get[text]lowercase[]titlecase[]]}}}\n/>\n\\end\n\n<!-- Display the highlight color -->\n<div class=\"kk-formatter-dropdown\">\n<div class=\"kk-sh-formatter-label\">Highlight color</div>\n<$list filter=\"[enlist{$:/plugins/kookma/shiraz-formatter/config/highlight-colors}]\" variable=color>\n<$button actions=<<btn-highlight-actions>> class=\"tc-btn-invisible\" tooltip=<<color>> >\n<$macrocall $name=rect color=<<color>> />\n</$button>\n</$list>\n</div>\n<hr/>\n<!-- Display the text colors -->\n<div class=\"kk-formatter-dropdown\">\n<div class=\"kk-sh-formatter-label\">Text color</div>\n<$list filter=\"[enlist{$:/plugins/kookma/shiraz-formatter/config/text-colors}]\" variable=color>\n<$button actions=<<btn-text-actions>> class=\"tc-btn-invisible\" tooltip=<<color>> >\n<$macrocall $name=rect color=<<color>> />\n</$button>\n</$list>\n</div>\n<hr/>\n<!-- Display the font transform buttons  -->\n<div class=\"kk-formatter-dropdown\">\n<div style=\"width:100%;margin-bottom:10px;\">Change case</div>\n<$button actions=<<btn-lowercase-actions>> class=\"tc-btn-invisible kk-sh-letter\" tooltip=\"lower case\" >\n''aa''\n</$button>\n<$button actions=<<btn-uppercase-actions>> class=\"tc-btn-invisible kk-sh-letter\" tooltip=\"upper case\" >\n''AA''\n</$button>\n<$button actions=<<btn-titlecase-actions>> class=\"tc-btn-invisible kk-sh-letter\" tooltip=\"title case\" >\n''Aa''\n</$button>\n</div>"}}}