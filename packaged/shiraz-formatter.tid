author: Mohammad Rahmani
core-version: >=5.2.2
description: Editor buttons and snippets for Shiraz
list: readme license history
name: Shiraz Formatter
parent-plugin: $:/plugins/kookma/shiraz
plugin-type: plugin
source: https://github.com/kookma/TW-Shiraz
tags: 
title: $:/plugins/kookma/shiraz-formatter
type: application/json
version: 0.5.1

{"tiddlers":{"$:/plugins/kookma/shiraz-formatter/config/highlight-colors":{"text":"yellow\nlime\ncyan\npink\n\nlightyellow\npalegreen\nlightcyan\nlavender\n\nred\nblue\ngreen\ngold","type":"text/plain"},"$:/plugins/kookma/shiraz-formatter/config/text-colors":{"text":"red\nblue\ngreen\npurple\n\nteal\nnavy\nmaroon\nSlateGray\n\nbrown\nroyalblue\ndarkkhaki\ngoldenrod","type":"text/plain"},"$:/plugins/kookma/shiraz-formatter/history":{"type":"text/vnd.tiddlywiki","text":"Full change log  https://kookma.github.io/TW-Shiraz/#ChangeLog\n\n* ''0.5.1'' -- 2022.09.27 -- stable and improved release\n* ''0.1.0'' -- 2022.09.23 -- first public release\n"},"$:/plugins/kookma/shiraz-formatter/license":{"type":"text/vnd.tiddlywiki","text":"Distributed under an MIT license.\n\nCopyright (c) 2022 [[Mohammad Rahmani|https://github.com/kookma]]\n\n<<<\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n<<<"},"$:/plugins/kookma/shiraz-formatter/readme":{"type":"text/vnd.tiddlywiki","text":"; Shiraz Formatter\nEditor toolbar buttons to format text and insert snippets.\n\n;Code and demo\nFor learning plugin features, syntax, tutorial and examples see the plugin demo and code pages\n\n* Demo: https://kookma.github.io/TW-Shiraz/shiraz-formatter.html\n* Code: https://github.com/kookma/TW-Shiraz"},"$:/plugins/kookma/shiraz-formatter/snippets/alert":{"caption":"Alert","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<alert type:primary src:\"\"width:100% , class:\"\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/alert-leftbar":{"caption":"Alert leftbar","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<alert-leftbar typ:primary src:\"\"width:100% , class:\"\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/badge":{"caption":"Badge","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<badge type:primary src:\"\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/badge-status":{"caption":"Badge status","code-body":"yes","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<dbadge subject:\"\"status:\"\"type:info>>"},"$:/plugins/kookma/shiraz-formatter/snippets/card":{"caption":"Card","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<card header:Header title:Title subtitle:subtitle text:content footer:footer width:18rem class:text-dark>>"},"$:/plugins/kookma/shiraz-formatter/snippets/details":{"caption":"Details","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<details label:\"\"src:\"\"status:\"\"labelClass:\"\"srcClass:\"\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/image-card":{"caption":"Image card","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<image-card img:\"\"width:\"\"align:\"\"title:\"\"text:\"\"footer:\"\"pos:\"\"alt:\"\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/image-polaroid":{"caption":"Image polaroid","code-body":"yes","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<image-polaroid img:\"\"width:\"\"align:center caption:\"\"tooltip:\"\"alt:\"\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/image-pretty":{"caption":"Image pretty","code-body":"yes","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<image-pretty img:\"\"width:480px align:center caption:\"\"tooltip:\"\"alt:\"\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/list-search":{"caption":"List search","code-body":"yes","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<list-search filter:[tag[??]] search:[[]]template:[[]]class:[[alert alert-info]]placeholder:[[]], stateTiddler:[[]]>>"},"$:/plugins/kookma/shiraz-formatter/snippets/slider":{"caption":"Slider","code-body":"yes","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<slider label:\"\"src:\"\"labelClass:\"\"srcClass:\"\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/table-dynamic":{"caption":"Table dynamic","code-body":"yes","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<image-pretty img:\"\"width:480px align:center caption:\"\"tooltip:\"\"alt:\"\">>"},"$:/plugins/kookma/shiraz-formatter/snippets/table-quick":{"caption":"Table quick","code-body":"yes","tags":"$:/tags/TextEditor/Snippet","type":"text/vnd.tiddlywiki","text":"<<image-pretty img:\"\"width:480px align:center caption:\"\"tooltip:\"\"alt:\"\">>"},"$:/plugins/kookma/shiraz-formatter/styles/button":{"text":".tc-editor-toolbar button.kk-formatter-btn+.tc-popup .tc-drop-down{min-width:20px}.tc-editor-toolbar button.kk-formatter-btn+.tc-popup .tc-drop-down>p{margin:0;padding:0 10px}.tc-editor-toolbar button.kk-formatter-btn+.tc-popup .tc-drop-down a.tc-tiddlylink{font-weight:normal}.tc-editor-toolbar button.kk-formatter-btn+.tc-popup .tc-drop-down button.tc-btn-invisible{width:fit-content;margin:1px;padding:0;display:inline-block;background-color:unset}.tc-editor-toolbar button.kk-formatter-btn+.tc-popup .tc-drop-down button.tc-btn-invisible svg{width:1.5em;height:1.5em}.kk-formatter-dropdown{display:flex;flex-wrap:wrap;max-width:6.6em}","tags":"$:/tags/Stylesheet","type":"text/css"},"$:/plugins/kookma/shiraz-formatter/styles/button-color":{"tags":"$:/tags/Stylesheet","type":"text/vnd.tiddlywiki","text":".tc-editor-toolbar button.kk-formatter-btn + .tc-popup .tc-drop-down button.tc-btn-invisible.kk-sh-letter {\n\tbackground-color: <<colour tiddler-controls-foreground>>;\n\tcolor: <<colour tiddler-controls-foreground-selected>>;\n\tfill: <<colour tiddler-controls-foreground-selected>>;\n\tborder-radius: 4px;\n\tpadding: 3px 4px;\n\tmargin: 2px 0 2px 4px;\n}"},"$:/plugins/kookma/shiraz-formatter/styles/other":{"text":".kk-sh-formatter-label{margin-bottom:10px;width:100%}","tags":"$:/tags/Stylesheet","type":"text/css"},"$:/plugins/kookma/shiraz-formatter/ui/EditorToolbar/format":{"button-classes":"kk-formatter-btn","caption":"formatter","condition":"[<targetTiddler>type[]] [<targetTiddler>get[type]prefix[text/]] [<targetTiddler>get[type]match[application/javascript]] [<targetTiddler>get[type]match[application/json]] [<targetTiddler>get[type]match[application/x-tiddler-dictionary]] [<targetTiddler>get[type]match[image/svg+xml]] +[first[]]","description":"Shiraz formatter button","dropdown":"$:/plugins/kookma/shiraz-formatter/ui/EditorToolbar/format-dropdown","icon":"$:/core/images/paint","list-after":"$:/core/ui/EditorToolbar/mono-line","shortcuts":"","tags":"$:/tags/EditorToolbar","type":"text/vnd.tiddlywiki"},"$:/plugins/kookma/shiraz-formatter/ui/EditorToolbar/format-dropdown":{"code-body":"yes","type":"text/vnd.tiddlywiki","text":"\\define circle(color)\n<svg width=1.5em height=1.5em>\n<circle cx=0.75em cy=0.75em stroke=\"\"fill=<<__color__>>r=0.74em/>\n\n\\end\n\\define rect(color)\n<svg width=1.5em height=1.5em>\n  <rect width=1.5em fill=<<__color__>>height=1.5em/>\n\n\\end\n\\define btn-highlight-actions()\n<$list filter='[<modifier>match[alt]then[hlp]][<modifier>match[shift]then[hls]]:else[<modifier>!match[ctrl]then[hl]]'variable=hlmac>\n<$action-sendmessage $message=tm-edit-text-operation prefix={{{[<hlmac>addprefix[<<]addsuffix[ \"]]}}}suffix='\" \"$(color)$\">>'$param=wrap-selection/>\n</$list>\n<$list filter='[<modifier>match[ctrl]]'variable=null>\n<$action-sendmessage $param='$:/plugins/kookma/shiraz-formatter/config/highlight-colors'$message=tm-edit-tiddler/>\n</$list>\n<$action-deletetiddler $tiddler=<<dropdown-state>>/>\n\\end\n\\define btn-text-actions()\n<$list filter='[<modifier>!match[ctrl]]'variable=null>\n<$action-sendmessage $message=tm-edit-text-operation prefix='<<tc \"'suffix='\" \"$(color)$\">>'$param=wrap-selection/>\n</$list>\n<$list filter='[<modifier>match[ctrl]]'variable=null>\n<$action-sendmessage $param='$:/plugins/kookma/shiraz-formatter/config/text-colors'$message=tm-edit-tiddler/>\n</$list>\n<$action-deletetiddler $tiddler=<<dropdown-state>>/>\n\\end\n\\define save-selection()<$action-sendmessage $message=tm-edit-text-operation tiddler=<<qualify\"$:/temp/text\">>$param=save-selection/>\n\\define btn-uppercase-actions()\n<<save-selection>>\n<$action-sendmessage $message=tm-edit-text-operation text={{{[<qualify [[$:/temp/text]]>get[text]uppercase[]]}}}$param=replace-selection/>\n\\end\n\\define btn-lowercase-actions()\n<<save-selection>>\n<$action-sendmessage $message=tm-edit-text-operation text={{{[<qualify [[$:/temp/text]]>get[text]lowercase[]]}}}$param=replace-selection/>\n\\end\n\\define btn-titlecase-actions()\n<<save-selection>>\n<$action-sendmessage $message=tm-edit-text-operation text={{{[<qualify [[$:/temp/text]]>get[text]lowercase[]titlecase[]]}}}$param=replace-selection/>\n\\end\n<div class=kk-formatter-dropdown>\n<div class=kk-sh-formatter-label>Highlight color</div>\n<$list filter='[enlist{$:/plugins/kookma/shiraz-formatter/config/highlight-colors}]'variable=color>\n<$button actions=<<btn-highlight-actions>>tooltip=<<color>>class=tc-btn-invisible>\n<$macrocall color=<<color>>$name=rect/>\n</$button>\n</$list>\n</div>\n<hr>\n<!---->\n<div class=kk-formatter-dropdown>\n<div class=kk-sh-formatter-label>Text color</div>\n<$list filter='[enlist{$:/plugins/kookma/shiraz-formatter/config/text-colors}]'variable=color>\n<$button actions=<<btn-text-actions>>tooltip=<<color>>class=tc-btn-invisible>\n<$macrocall color=<<color>>$name=rect/>\n</$button>\n</$list>\n</div>\n<hr>\n<!---->\n<div class=kk-formatter-dropdown>\n<div style=width:100%;margin-bottom:10px;>Change case</div>\n<$button actions=<<btn-lowercase-actions>>class='tc-btn-invisible kk-sh-letter'tooltip='lower case'>\n''aa''\n</$button>\n<$button actions=<<btn-uppercase-actions>>class='tc-btn-invisible kk-sh-letter'tooltip='upper case'>\n''AA''\n</$button>\n<$button actions=<<btn-titlecase-actions>>class='tc-btn-invisible kk-sh-letter'tooltip='title case'>\n''Aa''\n</$button>\n"}}}